#!/usr/bin/awk -f

# 引数として"-v playlist_name="${playlist_name}"が必須
BEGIN{

	# クラス"content"を宣言
	print "<div class=content>"

	# プレイリストをキューに追加するボタン
	print "<p><button id=playlist_button name=load value="playlist_name">"playlist_name"</button></p>"

}

{

	# ウェブラジオの判定,行頭が"http://"もしくは"https://"であれば真,それ以外で偽
	if(/^http:\/\// || /^https:\/\//){

		# ウェブラジオをキューに追加するボタン
		print "<p><button name=add value="$0">"$0"</button>"

		# 新規タブで開くリンクを出力
		print "<a href="$0" target=_blank rel=noopener noreferrer>⋯</a>"

	}else{

		# 入力を"filename"に代入
		filename = $0

		# スペースをエンコード
		gsub(" " , "%20" , $0)

		# "value"にエンコード後,タグ内にエンコード前
		print "<p><button name=add value=", $0, ">", filename, "</button></p>"

	}

}

END{

	print "</div>"

}
